# 통계학 6주차 정규과제

📌통계학 정규과제는 매주 정해진 분량의 『*데이터 분석가가 반드시 알아야 할 모든 것*』 을 읽고 학습하는 것입니다. 이번 주는 아래의 **Statistics_6th_TIL**에 나열된 분량을 읽고 `학습 목표`에 맞게 공부하시면 됩니다.

아래의 문제를 풀어보며 학습 내용을 점검하세요. 문제를 해결하는 과정에서 개념을 스스로 정리하고, 필요한 경우 추가자료와 교재를 다시 참고하여 보완하는 것이 좋습니다.

6주차는 `3부. 데이터 분석하기`를 읽고 새롭게 배운 내용을 정리해주시면 됩니다.


## Statistics_6th_TIL

### 3부. 데이터 분석하기
### 12.통계 기반 분석 방법론



## Study Schedule

|주차 | 공부 범위     | 완료 여부 |
|----|----------------|----------|
|1주차| 1부 p.2~56     | ✅      |
|2주차| 1부 p.57~79    | ✅      | 
|3주차| 2부 p.82~120   | ✅      | 
|4주차| 2부 p.121~202  | ✅      | 
|5주차| 2부 p.203~254  | ✅      | 
|6주차| 3부 p.300~356  | ✅      | 
|7주차| 3부 p.357~615  | 🍽️      |

<!-- 여기까진 그대로 둬 주세요-->

# 12.통계 기반 분석 방법론

```
✅ 학습 목표 :
* 주성분 분석(PCA)의 개념을 설명할 수 있다.
* 다중공선성을 진단할 수 있다.
* Z-TEST와 T-TEST의 개념을 비교하고, 적절한 상황에서 검정을 설계하고 수행할 수 있다.
* ANOVA TEST를 활용하여 세 개 이상의 그룹 간 평균 차이를 검정하고, 사후검정을 수행할 수 있다.
* 카이제곱 검정을 통해 범주형 변수 간의 독립성과 연관성을 분석하는 방법을 설명할 수 있다.
```

## 12.1. 분석 모델 개요
* 통계모델: 모형과 해석을 중요하게 생각하며, 오차의 불확정성을 강조.   
* 기계 학습: 대용량 데이터를 활용하여 예측의 정확도를 높이는 것을 중요하게 생각.   

<기계 학습 데이터 분석 방법론>   
종속변수의 유무에 따라   
1. 지도학습: 입력에 대한 정답이 주어져서 출력된 결괏값과 정답 사이 오차가 줄어들도록 학습과 모델수정을 반복       
2. 비지도학습: 별도의 정답이 없이 변수 간의 패턴을 파악하거나 데이터를 군집화하는 방법 (차원축소/군집분석/연관규칙)    
3. 강화학습: 동물이 시행착오를 통해 학습하는 과정을 기본 콘셉트로 한 방법 중 하나    
독립변수와 종속변수의 속성에 따라   
1. 양적척도   
2. 질적척도   
3. 모두 사용 가능한 경우
   
<img width="313" alt="화면 캡처 2025-05-16 180053" src="https://github.com/user-attachments/assets/a724c040-f060-43fe-ae35-cab32b555dc9" />

## 12.2. 주성분 분석(PCA)
#### 주성분 분석   
: 여러 개의 독립변수들을 잘 설명해 줄 수 있는 주된 성분을 추출하는 기법   
=> 독립변수(차원)의 수를 줄일 수 있음.   
=> 모든 변수들이 모두 등간 척도나 비율척도로 측정한 양적변수여야함. 관측치들이 서로 독립적이고 정규분포를 이루고 있어야 함.   
##### <차원 감소하는 방법>   
1. 변수 선택을 통해 비교적 불필요하거나 유의성이 낮은 변수를 제거하는 방법
2. 변수들의 잠재적인 성분을 추출하여 차원을 줄이는 방법 (ex. 주성분 분석/공통요인분석)

   * PCA는 데이터 공간에 위치하는 점들의 분산을 최대한 보존하는 축을 통해 차원을 축소하는 것이 핵심..!!
   * 일반적으로는 제1주성분, 제2주성분만으로 대부분의 설명력이 포함되기 때문에 두 개의 주성분만 선정.
   * PCA원리는 데이터의 분산을 가장 잘 표현할 수 있는 저차원을 찾아내는 것.
        <img width="266" alt="화면 캡처 2025-05-16 181812" src="https://github.com/user-attachments/assets/59199345-b45b-4e44-a740-f360a54d1666" />
     
        <img width="261" alt="화면 캡처 2025-05-16 181833" src="https://github.com/user-attachments/assets/47b5f9e9-ffc5-46be-98c4-aeb66c0f365e" />
     => 2차원의 경우에는 가장 설명력이 높았던 3번 축과 직교하는 선이 제2주성분이다. 그림에서 볼 수 있듯이 3
번 축과 대조되는 짧은 길이(낮은 분산)로 생성.
     =>  이는 제2주성분은 전체 변수에 대한 설명력이 낮음을 의미한다. 예시는 2차원, 즉 변수가 두 개이기 때문에 최대 2개의 주성분을 만들 수 있다. 만약 변수가 10개라면 총 10개의 주성분을 만들 수 있다.
     
  <img width="248" alt="화면 캡처 2025-05-16 181845" src="https://github.com/user-attachments/assets/ead1fc22-ca7e-462d-a503-846c8640692f" />

<img width="251" alt="화면 캡처 2025-05-16 181903" src="https://github.com/user-attachments/assets/cf9315db-54eb-4158-a0f9-dd5a0c348865" />




## 12.4. 다중공선성 해결과 섀플리 밸류 분석
##### 다중공선성(multicollinearity)   
:독립변수들 간의 상관관계가 높은 현상을 뜻함.   
=> 즉 두 개 이상의 독립변수가 서로 선형적인 관계를 나타낼 때 다중공선성이 있다고 함.   
=> VIF(Variance Inflation Factor), 즉 분산팽창계수를 통해 다중공선성을 판단   
=> VIF 값은 1에서 무한대의 범위를 가짐. 일반적으로 5 이상이면 다중공선성을 의심해 봐야 하며, 10 이상일 경우, 다중공선성이 있다고 판단함   
* 다중공선성을 해결하기 위한 가장 기본적인 방법은 VIF값이 높은 변수들 중에서 종속변수와의 상관성(설명력)이 가장 낮은 변수를 제거하고 다시 VIF값을 확인하는 하는 것을 반복하는 것
* 해결방법
     <img width="197" alt="화면 캡처 2025-05-16 183627" src="https://github.com/user-attachments/assets/b7dfe988-4414-4fee-9d02-3408583f8b6e" />

#### 섀플리 밸류    
예) 독립변수 1, x2, x3 각각의 설명력은 0.15, 0.21, 0.17이다.   
x1과 x2를 함께 투입했을 경우에는 0.32의 설명력을 가진다.   
x2만 투입했을 때는 0.21의 설명력을 가지므로 x1, x2 조합에서 x1의 기여도는 0.32-0.21 0.11이 되고, x2의 기여도는 0.32-0.15=0.17이 된다.    
즉, x1만 사용했을 때보다 x1과 x2를 함께 사용했을 때 x2가 0.17만큼의 설명력을 더해 주는 것.   
동일한 방식으로 x1, x3 조합에서 x1의 기여도를 계산하면 0.29-0.17=0.12가 된다. 그리고 x1, x2,x3 조합에서 x1의 기여도는 0.35-0.31-0.04이다.   
세 가지 조합에서 x1의 기여도는 각각 0.15, 0.115, 0.04이고 이 값들의 평균을 구하면 (0.15+0.115+0.04)/3-0.101이다.   
이 값이 x1의 섀플리 밸류로, x1, x2, x3를 모두 투입했을 때 1이 갖는 순수한 설명력이다.   


## 12.6. Z-test와 T-test
: 집단 내 혹은 집단 간의 평균값 차이가 통계적으로 유의미한 것인지 알아내는 방법.   
=> 양적변수/ 정규분포/ 등분산 조건이 충족해야 함   
   
   <img width="316" alt="화면 캡처 2025-05-16 184218" src="https://github.com/user-attachments/assets/5040d2fd-4b6a-4e2c-a18a-f969a4379319" />   
   


## 12.7. ANOVA(=분산분석)
: 세 집단 이상의 평균 차이를 검정 할 때 사용   
=> F-분포 사용   
(항상 양의 값을 가지며 오른쪽으로 긴 꼬리 형태)   
=> 각 집단의 평균값 차이가 통계적으로 유의한지 검증   
=> 각 집단의 평균이 서로 멀리 떨어져 있어 집단 평균의 분산이 큰 정도를 따져서 집단 간 평균이 다른지 판별   

   <img width="315" alt="화면 캡처 2025-05-16 184654" src="https://github.com/user-attachments/assets/2829956c-205e-4630-8565-b966e21b82cc" />   
   
=> 사후검증: 독립변수 수준 사이에서 평균의 차이를 알고자 할 때 쓰이는 기법   


## 12.8. 카이제곱 검정(교차분석)
: 명목 혹은 서열척도와 같은 범주형 변수들 간의 연관성을 분석하기 위해 결합분포를 활용하는 방법   
=> 기본 원리: 변수들 간의 범주를 동시에 교차하는 교차표를 만들어 각각의 빈도와 비율을 통해 변수 상호 간의 독립성과 관련성을 분석하는 것.   

   <img width="72" alt="화면 캡처 2025-05-16 184929" src="https://github.com/user-attachments/assets/0fd7d71f-be37-47ac-8daf-1d64f244073d" />



<br>
<br>

# 확인 문제

### **문제 1.**
> **🧚 경희는 다트비 교육 연구소의 연구원이다. 경희는 이번에 새롭게 개발한 교육 프로그램이 기존 프로그램보다 학습 성취도 향상에 효과적인지 검증하고자 100명의 학생을 무작위로 두 그룹으로 나누어 한 그룹(A)은 새로운 교육 프로그램을, 다른 그룹(B)은 기존 교육 프로그램을 수강하도록 하였다. 실험을 시작하기 전, 두 그룹(A, B)의 초기 시험 점수 평균을 비교한 결과, 유의미한 차이가 없었다. 8주 후, 학생들의 최종 시험 점수를 수집하여 두 그룹 간 평균 점수를 비교하려고 한다.**   

> **🔍 Q1. 이 실험에서 사용할 적절한 검정 방법은 무엇인가요?**

```
(독립표본) t-test
```

> **🔍 Q2. 이 실험에서 설정해야 할 귀무가설과 대립가설을 각각 작성하세요.**

```
귀무가설(H₀): 새로운 프로그램(A)과 기존 프로그램(B)의 최종 평균 점수 차이가 없다.
대립가설(H₁): 새로운 프로그램(A)의 최종 평균 점수가 기존 프로그램(B)와 차이가 있다.   
```

> **🔍 Q3. 검정을 수행하기 위한 절차를 순서대로 서술하세요.**

<!--P.337의 실습 코드 흐름을 확인하여 데이터를 불러온 후부터 어떤 절차로 검정을 수행해야 하는지 고민해보세요.-->

```
유의수준 결정하고, 검정통계량 T 계산한다. p-value 산출하고 유의수준과 비교하여 H0 기각 여부를 결정한다.   
```

> **🔍 Q4. 이 검정을 수행할 때 가정해야 하는 통계적 조건을 설명하세요.**

```
1. 독립성: A,B 그룹의 학생은 서로 독립적으로 배정
2. 정규성: 각 그룹의 점수가 정규분포를 따음
3. 등분산성: 두 그룹의 분산이 같음   
```

> **🔍 Q5. 추가적으로 최신 AI 기반 교육 프로그램(C)도 도입하여 기존 프로그램(B) 및 새로운 프로그램(A)과 비교하여 성취도 차이가 있는지 평가하고자 한다면 어떤 검정 방법을 사용해야 하나요? 단, 실험을 시작하기 전, C 그룹의 초기 점수 평균도 A, B 그룹과 유의미한 차이가 없었다고 가정한다.**

```
ANOVA   
```

> **🔍 Q6. 5번에서 답한 검정을 수행한 결과, 유의미한 차이가 나타났다면 추가적으로 어떤 검정을 수행해 볼 수 있을까요?**

```
사후검증을 수행한다.   
```

---

### **문제 2. 카이제곱 검정**  
> **🧚 다음 중 어떠한 경우에 카이제곱 검정을 사용해야 하나요?   
1️⃣ 제품 A, B, C의 평균 매출 차이를 비교하고자 한다.  
2️⃣ 남성과 여성의 신체 건강 점수 평균 차이를 분석한다.  
3️⃣ 제품 구매 여부(구매/미구매)와 고객의 연령대(10대, 20대, 30대…) 간의 연관성을 분석한다.  
4️⃣ 특정 치료법이 환자의 혈압을 감소시키는 효과가 있는지 확인한다.**  

```
3번번
```

### 🎉 수고하셨습니다.
